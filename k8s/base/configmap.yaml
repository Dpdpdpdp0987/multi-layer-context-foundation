---
apiVersion: v1
kind: ConfigMap
metadata:
  name: mlcf-api-config
  namespace: mlcf
  labels:
    app: mlcf-api
data:
  # API Configuration
  API_HOST: "0.0.0.0"
  API_PORT: "8000"
  DEBUG: "false"
  LOG_LEVEL: "INFO"
  
  # CORS
  ENABLE_CORS: "true"
  CORS_ORIGINS: '["https://app.example.com"]'
  
  # Rate Limiting
  ENABLE_RATE_LIMITING: "true"
  RATE_LIMIT_PER_MINUTE: "100"
  
  # Authentication
  REQUIRE_AUTH: "true"
  JWT_ALGORITHM: "HS256"
  JWT_EXPIRATION_MINUTES: "60"
  
  # Vector Search
  ENABLE_VECTOR_SEARCH: "true"
  QDRANT_HOST: "qdrant-service"
  QDRANT_PORT: "6333"
  QDRANT_COLLECTION: "mlcf_production"
  
  # Graph Search
  ENABLE_GRAPH_SEARCH: "true"
  NEO4J_URI: "bolt://neo4j-service:7687"
  NEO4J_USER: "neo4j"
  NEO4J_DATABASE: "neo4j"
  
  # Context Settings
  IMMEDIATE_BUFFER_SIZE: "10"
  IMMEDIATE_BUFFER_TTL: "3600"
  SESSION_MAX_SIZE: "50"
  MAX_CONTEXT_TOKENS: "4096"
  
  # Cache Settings
  ENABLE_CACHING: "true"
  CACHE_TTL: "300"
  
  # Request Limits
  MAX_REQUEST_SIZE: "1048576"
  MAX_QUERY_LENGTH: "1000"
  MAX_BATCH_SIZE: "100"
  
  # Timeouts
  REQUEST_TIMEOUT: "30"

---
apiVersion: v1
kind: ConfigMap
metadata:
  name: qdrant-config
  namespace: mlcf
  labels:
    app: qdrant
data:
  config.yaml: |
    service:
      host: 0.0.0.0
      http_port: 6333
      grpc_port: 6334
    storage:
      storage_path: /qdrant/storage
      snapshots_path: /qdrant/snapshots
    telemetry_disabled: false

---
apiVersion: v1
kind: ConfigMap
metadata:
  name: neo4j-config
  namespace: mlcf
  labels:
    app: neo4j
data:
  NEO4J_dbms_memory_heap_initial__size: "512m"
  NEO4J_dbms_memory_heap_max__size: "2G"
  NEO4J_dbms_memory_pagecache_size: "1G"
  NEO4J_dbms_connector_bolt_listen__address: "0.0.0.0:7687"
  NEO4J_dbms_connector_http_listen__address: "0.0.0.0:7474"